<script>
  const objectif = 440;
  let total = 0;

  // Liste des dons
  const dons = [];

  function participer() {
    const name = document.getElementById('name').value.trim();
    const amountInput = document.getElementById('amount');
    const amount = parseFloat(amountInput.value);

    if (!name || isNaN(amount) || amount <= 0) {
      alert("Merci d’entrer un prénom et un montant valide.");
      return;
    }

    // Mémoriser le don
    dons.push({ nom: name, montant: amount });
    total += amount;

    // Mise à jour de la barre
    const percent = Math.min((total / objectif) * 100, 100);
    const progressBar = document.getElementById('progressBar');
    progressBar.style.width = percent + '%';
    progressBar.textContent = Math.round(percent) + '%';

    // Message personnalisé
    document.getElementById('thankYouMessage').textContent =
      `Merci ${name} ! On t’attend pour un big BBQ pour offrir la M5 à Esther !`;

    // Réinitialiser les champs
    document.getElementById('name').value = '';
    amountInput.value = '';
  }
</script>
